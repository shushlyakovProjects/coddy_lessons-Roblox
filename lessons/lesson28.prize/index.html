<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROBLOX - Lesson 28</title>
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/section.css">
    <link rel="stylesheet" href="../../css/media.css">
    <link rel="icon" href="../../img/base/favicon.png">
</head>

<body>

    <!-- 
    ИНСТРУКЦИЯ
    <h1></h1>
    <h2></h2>
    <h3></h3>
    <p></p>
    <p class="story"></p>
    <p class="code"></p>
    <p class="important"></p>
    <img src="" alt="">
    <div class="box__images2"> 
    -->

    <main>
        <header>
            <img src="../../img/base/logo.svg" alt="" class="logo">
            <h1>Создание игр в Roblox Studio</h1>
        </header>

        <section>
            <h1>Создание квеста. Часть 2</h1>

            <h2>Создание аксессуаров</h2>
            <p>В этом занятии мы завершим создание квеста и сделаем аксессуар, на который будет выдаваться в качестве
                награды, добавим к нему специальные эффекты, после чего допишем скрипты, созданные в прошлых занятиях
                таким образом, чтобы по выполнению квеста NPC выдавал предмет в качестве награды.</p>

            <h3>Создание собственных аксессуаров</h3>
            <p>Предмет, выдающийся в качестве награды, будет представлять из себя базовый аксессуар, который мы создадим
                самостоятельно.</p>
            <!-- <p>Включите опцию AccessoryFittingTool.</p>
            <img src="img/Screenshot_.png" alt=""> -->
            <p>Необходимо найти тот аксессуар, который вы подготовили в домашнем задании, и добавить его в сцену.
                Фактически, этот аксессуар уже готов к использованию в качестве награды, однако, мы превратим его в
                базовую модель, чтобы научиться создавать аксессуары самостоятельно.</p>
            <img src="img/Screenshot_4.png" alt="">    
            <p>Раскройте иерархию аксессуара в окне Explorer. Внутри каждого аксессуара есть ключевой объект Handle,
                внутри которого находится сама 3D-модель и дополнительные специфические объекты.</p>
            <p class="story">Найдите объект Mesh (это модель, которую использует аксессуар) и найдите в окне Properties его параметры
                MeshID и TextureID. Это - параметры, указывающие пути к 3D-модели и её текстуре на сайте Roblox:</p>
            <img src="img/Screenshot_1.png" alt="">
            <p class="story">Чтобы скопировать модель, использующуюся в аксессуаре, создайте новый объект MeshPart в Workspace:</p>
            <img src="img/Screenshot_2.png" alt="">
            <p class="story">Скопируйте параметры MeshID и TextureID в соответствующие параметры созданного вами объекта MeshPart.
                Таким образом вы скопируете 3D-модель. Удалите изначальный аксессуар.</p>
            <img src="img/Screenshot_3.png" alt="">
            <p>Теперь из полученной 3D-модели можно создать аксессуар.</p>

            <h3>Accessory Fitting Tool</h3>
            <p>Прежде чем переходить к работе с плагином, создайте через Rig Builder дополнительный риг персонажа, который будет
                использоваться как манекен. Поставьте его в произвольном месте уровня.</p>
            <p class="story">Перейдите в раздел Avatar и откройте Accessory Fitting Tool. После открытия окна плагина, выберите ваш
                предмет, после чего нажмите на кнопку Next.</p>
            <img src="img/Screenshot_5.png" alt="">
            <p class="story">Укажите тип создаваемого аксессуара. В качестве примера используется корона, которая должна крепиться
                на голову, поэтому будет выбран вариант Hair. Дополнительно настройте тип тела персонажа (например, Realistic Normal). Выберите свой вариант и нажмите Next.</p>
            <img src="img/Screenshot_6.png" alt="">
            <p>На этом этапе необходимо настроить положение аксессуара на персонаже. По умолчанию используются
                нестандартный манекен, поэтому необходимо заменить его на персонажа, добавленного ранее.</p>
            <p class="story">Нажмите на + в круге внутри окна плагина и выберите опцию добавить. В окне Explorer выберите манекен и подтвердите выбор в
                плагине.</p>
            <img src="img/Screenshot_7.png" alt="">
            <p class="story">После этого кликните на добавленного персонажа в списке доступных, все остальные персонажи должны быть выключены (для выключения также кликните на них):</p>
            <img src="img/Screenshot_8.png" alt="">
            <p class="story">При помощи базовых инструментов перемещения, поворота и масштаба расположите аксессуар так, чтобы он
                правильно смотрелся на вашем манекене (предпросмотор доступен в отдельном окошке внутри плагина). Подтвердите создание
                аксессуара кнопкой Generate Legacy Accessory (этот вариант предназначен для жестких аксессуаров, которые не меняют свою форму).</p>
            <img src="img/Screenshot_9.png" alt="">
            <p>Готово! Теперь этот аксессуар можно использовать, как и любой другой, добавленный из Avatar Shop.</p>
            <img src="img/Screenshot_10.png" alt="">

            <h2>Добавление специальных эффектов</h2>
            <p>Чтобы предмет выглядел более уникальным, добавим специальный эффект, который будет генерировать выбранные
                нами картинки и испускать их из аксессуара.</p>
            <p class="important">Все эффекты Roblox Studio работают на основе технологии ParticleSystem. Этот подход используется во всей
                игровой индустрии и работает следующим образом: в пространстве создается точка, из которой появляются
                спрайты - плоские картинки с прозрачным фоном, на которых нарисована какая-то часть эффекта.</p>
            <p>Спрайты - очень лёгкие с точки зрения производительности объекты, поэтому современные движки могут
                генерировать их тысячами без потерь производительности. Они распространяются в пространстве по заданным
                траекториям, благодаря чему имитируют поведение своих прототипов из реальной жизни.</p>
            <p class="important">Каждый спрайт - отдельно созданный объект, имеющий свою траекторию движения и настройки параметров,
                определяющих его внешний вид. Чаще всего эти параметры меняются в течение времени, благодаря чему
                полученные эффекты выглядят сложно и хаотично.</p>

            <h3>Эффект ParticleEmitter</h3>
            <p class="story">Все эффекты Roblox Studio строится на основе базового эффекта - ParticleEmitter. Добавьте этот эффект к
                компоненту Handle вашего аксессуара.</p>
            <img src="img/Screenshot_11.png" alt="">
            <p class="story">Заменим спрайты, которые эмиттер генерирует по умолчанию, на что-то более подходящее. Откройте
                Toolbox и в разделе Decals найдите подходящий спрайт. Нажмите на него правой клавишей мыши и скопируйте
                ID:</p>
            <img src="img/Screenshot_12.png" alt="">
            <p class="story">Вставьте полученный ID в параметр эмиттера Texture в окне Properties:</p>
            <img src="img/Screenshot_13.png" alt="">
            <p class="story">Далее, изменяя параметры эмиттера, настройте эффект так, чтобы он выглядел сложнее и интереснее.</p>
            <img src="img/Screenshot_14.png" alt="">
            <p class="story">Аксессуар готов! Переименуйте его подходящим образом и переместите в ReplicatedStorage.</p>
            <img src="img/Screenshot_15.png" alt="">
            <p class="important">Все объекты, которые необходимо использовать несколько раз внутри игры и при этом не размещать их
                изначально в карте, хранятся в ReplicatedStorage. Это - специальное хранилище, в котором лежат объекты,
                доступные для клонирования и использования в процессе игры.</p>

            <h2>Завершение квеста</h2>
            <p>В последней части занятия добавим в скрипты команды, позволяющие завершить квест и получить награду от
                NPC.</p>
            <p>После того, как игрок соберет все пять предметов, NPC должен проверить, достаточно ли предметов собрано и
                в зависимости от этого либо выдать награду, либо отправить игрока собирать достаточное количество
                предметов.</p>

            <h3>Проверка завершения квеста</h3>
            <p class="story">Откройте диалоговый скрипт. В первую очередь добавим обновления текущего количества собранных предметов с
                помощью двух переменных:</p>
            <img src="img/Screenshot_16.png" alt="">
            <p class="story">После этого в обработку первого варианта ответа в диалоге добавим условие, в котором проверим, активен ли
                квест и собрал ли игрок достаточное количество предметов:</p>
            <img src="img/Screenshot_17.png" alt="">
            <p class="story">В случае, если количество предметов достаточное, должны поменяться реплики NPC и реплики ответа
                персонажа:</p>
            <img src="img/Screenshot_18.png" alt="">
            <p class="story">Добавим дополнительный вариант на случай, если игрок начал диалог с NPC, не собрав достаточное количество
                предметов:</p>
            <img src="img/Screenshot_19.png" alt="">
            <p class="story">Запустите игру, активируйте квест и проверьте оба варианта:</p>
            <img src="img/Screenshot_20.png" alt="">

            <h3>Выдача награды</h3>
            <p class="story">Теперь необходимо добавить часть скрипта, в которой NPC выдаст игроку награду за успешно выполненный
                квест. Это вариант ответа Choice3. Добавьте обработку условия выполненного квеста:</p>
            <img src="img/Screenshot_21.png" alt="">
            <p class="story">Так как NPC - северный объект, а игрок - объект локальный, необходимо использовать удалённое событие и
                серверный скрипт. Добавьте удалённое события в ReplicatedStorage и назовите его Reward:</p>
            <img src="img/Screenshot_22.png" alt="">
            <p class="story">В диалоговом скрипте добавьте вызов этого события, указав путь к вашему объекту в ReplicatedStorage.
                После того, как событие произойдёт, диалог должен самоуничтожиться, чтобы исключить повторное прохождение
                квеста.</p>
            <img src="img/Screenshot_23.png" alt="">
            <p class="story">Добавьте скрипт в ServerScriptStorage и назовите его GiveReward. Напишите скрипт:</p>
            <img src="img/Screenshot_24.png" alt="">
            <p>Это скрипт клонирует объект, указанный во втором параметре, и добавляет его игроку из первого параметра. Также он увеличивает высота прыжка нашего персонажа.</p>
            <p class="story">Запустите игру, выполните квест и проверьте, выдаётся ли награда:</p>
            <img src="img/Screenshot_25.png" alt="">



            <hr>
            <h1>Домашкаа 😁</h1>
            <p>Это занятие завершает 7 модуль курса, посвященный работе с неигровыми персонажами.</p>
            <ol>
                <li>
                    <p>Что такое NPC?</p>
                    <ol type="a">
                        <li>Nested Programming Code - вложенный программный код</li>
                        <li>Non-Playable Character - неигровой персонаж</li>
                        <li>Never Practing Child - ученик, который не выполняет домашние задания :(</li>
                    </ol>
                </li>
                <li>
                    <p>Как добавить NPC в игру?</p>
                    <ol type="a">
                        <li>Запустить игру, скопировать игрового персонажа и вставить в сцену</li>
                        <li>Написать скрипт, загружающий персонажа с сервера и запусить его</li>
                        <li>Использовать плагин Rig Builder</li>
                    </ol>
                </li>
                <li>
                    <p>Как поменять текстуру стандартной футболки или штанов персонажа?</p>
                    <ol type="a">
                        <li>Загрузить картинку из ToolBox и вставить в группу персонажа</li>
                        <li>Скопировать ID с сайта Roblox и вставить в параметр Texture</li>
                        <li>Купить в магазине за Robux</li>
                    </ol>
                </li>
                <li>
                    <p>Какой плагин добавляет в игру объёмную одежду из каталога Roblox?</p>
                    <ol type="a">
                        <li>Import Asset</li>
                        <li>Cloth Creator</li>
                        <li>TShirt Master</li>
                    </ol>
                </li>
                <li>
                    <p>Какой компонент позволяет NPC разговаривать?</p>
                    <ol type="a">
                        <li>Head</li>
                        <li>Local Script</li>
                        <li>Dialog</li>
                    </ol>
                </li>
                <li>
                    <p>Что такое DialogChoice?</p>
                    <ol type="a">
                        <li>Компонент, содержащий првильный ответ на вопрос NPC</li>
                        <li>Параметр, переключающий набор фраз в диалоге</li>
                        <li>Специальный объект, добавляющий вариант ответа на реплику NPC</li>
                    </ol>
                </li>
                <li>
                    <p>За что отвечают параметры UserDialog и ResponseDialog?</p>
                    <ol type="a">
                        <li>UserDialog содержит ответ игрока, ResponseDialog - следующую фразу NPC</li>
                        <li>ResponseDialog содержит фразу NPC, UserDialog - ответ на неё</li>
                        <li>UserDialog содержит все возможные ответы игрока, ResponseDialog - все фразы NPC</li>
                    </ol>
                </li>
                <li>
                    <p>Как создать квест, выдаваемый игроку через диалог NPC?</p>
                    <ol type="a">
                        <li>Добавить спеуциальный объект QuestLine и натсроить его, выбрав тип квеста</li>
                        <li>Выбрать тип квеста Quest и заполнить дополнительные параметры</li>
                        <li>Создать скрипты, отслеживающие прогресс квеста и добавить игроку специальные внешние
                            переменные</li>
                    </ol>
                </li>
                <li>
                    <p>Как поменять реплики NPC после выполнения квеста?</p>
                    <ol type="a">
                        <li>Добавить скрипт, проверяющий статус квеста и заменяющий реплики веток диалога</li>
                        <li>Использовать плагин DialogManager в режиме квест</li>
                        <li>Написать серверный скрипт, автоматически подменяющий объекты Dialog</li>
                        <li>Все варианты верны</li>
                    </ol>
                </li>
                <li>
                    <p>В какой папке игрока нужно разместить переменные, чтобы они сохранялись после смерти?</p>
                    <ol type="a">
                        <li>ServerScriptStorage</li>
                        <li>ReplicatedStorage</li>
                        <li>StarterPlayer</li>
                        <li>StarterPack</li>
                    </ol>
                </li>
            </ol>

        </section>
    </main>
</body>

</html>
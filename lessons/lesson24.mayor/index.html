<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROBLOX - Lesson 24</title>
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/section.css">
    <link rel="stylesheet" href="../../css/media.css">
    <link rel="icon" href="../../img/base/favicon.png">
</head>

<body>

    <!-- 
    ИНСТРУКЦИЯ
    <h1></h1>
    <h2></h2>
    <h3></h3>
    <p></p>
    <p class="story"></p>
    <p class="code"></p>
    <p class="important"></p>
    <img src="" alt="">
    <div class="box__images2"> 
    -->

    <main>
        <header>
            <img src="../../img/base/logo.svg" alt="" class="logo">
            <h1>Создание игр в Roblox Studio</h1>
        </header>

        <section>
            <h1>Создание анимированных сцен</h1>

            <h2>Знакомство с Moon Animator и анимация персонажа R6</h2>
            <p>Это занятие - последнее в цикле, посвященном работе с анимацией. В нём нам предстоит поработать с другим видом анимации - сценической анимацией. В предыдущих занятиях мы создавали анимационные клипы - записанные движения для персонажей, использующиеся для кастомизации движений игровых персонажей.</p>
            <p>Однако, анимации применяются не только к созданию наборов движений персонажей, но и для создания сцен, в которых происходит сложные события, включающие в себя анимации сразу нескольких объектов, объединённых в один сюжет. Такая анимация применяется в создании мультфильмов, видеороликов, синематиков, катсцен и т.п.</p>
            <img src="img/Screenshot.png" alt="">
            <p>В отличие от создания анимационных клипов, при создании анимационной сцены необходимо работать одновременно с несколькими объектами. К сожалению, встроенный плагин Animation Editor не позволяет удобно работать с такого рода сценами, поэтому в этом занятии мы будем использовать сторонний плагин, который называется Moon Animator.</p>
            <h3>Цели занятия</h3>
            <p>Для этого занятия создана специальная сцена с декорациями, персонажами и объектами, подготовленными к анимации. Цель этого занятия - создать небольшую анимационную сцену, используя подготовленных персонажей: шерифа, бандита и зомби-ковбоя.</p>
            <p>Также во время этого занятия мы научимся анимировать неодушевленные объекты, чтобы сделать окружение более реалистичным и живым.</p>
            <p>По сюжету шериф и бандит должны встретиться посреди улицы и начать дуэль. До того, как они начнут стрелять, сверху на них должен упасть зомби ковбой и напугать обоих стрелков. Вы можете придумать свой собственный сюжет и при помощи инструментов, показанных далее, создать его самостоятельно.</p>
            
            <h3>Moon Animator</h3>
            <p class="important">Moon Animator - специальный плагин, созданный для работы со сложными сценами, включающими в себя анимацию неограниченного количества персонажей и объектов. С его помощью можно анимировать практически любой объект Roblox Studio, включая свет, камеры, цвет и материалы объектов и так далее. Рабочий процесс этого плагина приближен к профессиональным приложениям, работающим с анимацией, такими как Autodesk Maya, After Effects, Cinema 4d.</p>
            <p class="story">Интерфейс этого плагина в целом похож на интерфейс Animation Editor, с которым мы работали ранее. Чтобы начать работу, сперва необходимо создать новый файл, в котором будут храниться анимационные треки каждого добавленного объекта. Для этого нажмите кнопку "New Moon 2 File" внизу главного экрана.</p>
            <img src="img/Screenshot_1.png" alt="">
            <p class="story">Нажмите File --> File Settings и в открывшемся окне введите название анимации MexicanDuel.</p>
            <div class="box__images2">
                <img src="img/Screenshot_2.png" alt="">
                <img src="img/Screenshot_3.png" alt="">
            </div>
            <p class="story">Перейдём к добавлению анимированных объектов. Сперва добавим шерифа - для этого перейдите в меню Item и выберите пункт Add. После открытия дополнительного окна кликните на шерифа и добавьте его нажатием на кнопку ОК.</p>
            <img src="img/Screenshot_4.png" alt="">
            <p class="story">В левом поле появились компоненты персонажа, в правом - поля для его ключей. Как и в стандартном аниматоре, каждая часть тела записывается плагином отдельно. Полоса, на которой отображаются ключи анимации, называется "трек".</p>
            <img src="img/Screenshot_5.png" alt="">

            <h3>Анимация шерифа</h3>
            <p class="story">Чтобы приступить к анимации, необходимо добавить стартовые ключи. Выберите все части тела персонажа, нажав на главный компонент Rig, после чего нажмите на горячую клавишу G.</p>
            <img src="img/Screenshot_6.png" alt="">
            <p>Так как в этой сцене мы будем работать с перемещением объектов в пространстве, в первую очередь переместим персонажа из стартовой точки в финальную, где он должен будет остановиться и ожидать бандита. Если вы работаете с ригом R6 и создаете анимацию вручную, можно перемещать персонажа, используя его ключевую кость - Torso.</p>
            <p class="story">Выберите трек Torso и переместите слайдер в кадр 120. Используя манипуляторы плагина, переместите персонажа в финальную точку анимации. Чтобы переключить инструмент поворота на инструмент перемещения, используйте горячую клавишу R.</p>
            <img src="img/Screenshot_7.png" alt="">
            <p class="story">Найдите кадр, в котором персонаж перемещается со ступеньки на песок. На несколько кадров ранее перенесите персонажа так, чтобы он стоял на ступеньке, одним кадром позже выровняйте его на земле. Таким образом персонаж будет перемещаться по плоскостям правильно.</p>
            <div class="box__images2">
                <img src="img/Screenshot_8.png" alt="">
                <img src="img/Screenshot_9.png" alt="">
            </div>

            <h3>Анимация ходьбы</h3>
            <p>Добавим анимацию ходьбы. Для этого перейдите в кадр схождения со ступеньки и поверните одну из ног вперёд, а другую назад. Передвиньте слайдер дальше, так чтобы персонаж переместился на длину одного шага.</p>
            <p class="story">Поверните переднюю ногу назад, а заднюю - вперёд. Передвиньте слайдер в позицию следующего шага и поменяйте ноги местами снова. Повторите эти действия необходимое количество раз, чтобы шериф шагал во время ходьбы.</p>
            <img src="img/Screenshot_10.png" alt="">
            <p class="story">Добавьте движение рук. Анимация рук происходит таким же образом, как и анимация ног. Помните, что руки перемещаются в противоположном направлении с ногами, если правая нога перемещается вперёд, то правая рука перемещается назад.</p>
            <img src="img/Screenshot_11.png" alt="">
            <p class="story">Перейдите в финальный кадр и выставьте персонажа в позу ожидания, в которой он будет готовиться к перестрелке с бандитом.</p>
            <img src="img/Screenshot_12.png" alt="">

            <h2>Анимация персонажа R15</h2>
            <h3>Использование готовых анимаций</h3>
            <p class="story">Перейдём к анимации бандита. Добавьте его к рабочим объектам с помощью команды Add в разделе Item, как это было сделано в предыдущем разделе.</p>
            <img src="img/Screenshot_13.png" alt="">
            <p>Бандит - это персонаж с ригом R15. Анимация этого персонажа вручную займёт намного больше времени и сил, чем анимация предыдущего. Однако, можно использовать и клипы, загруженные нами в Roblox.</p>
            <p class="story">Добавим анимацию ходьбы, используя опубликованные в ToolBox анимации. Нажмите File --> Import, в открывшемся окне нажмите кнопку Roblox.</p>
            <div class="box__images2">
                <img src="img/Screenshot_14.png" alt="">
                <img src="img/Screenshot_0.png" alt="">
            </div>
            <p class="story">После этого откроется окно ToolBox с вашими анимациями, выберите нужную.</p>
            <img src="img/Screenshot_15.png" alt="">
            <p class="story">Анимация автоматически вставится в рабочую область и теперь, прокручивая слайдер, вы можете увидеть, как она работает. Здесь ключи по умолчанию сгруппированы, поэтому сливаются в одну линию. Если хотите разгруппировать их - выделите все строки анимации с зажатым Shift и нажмите Keyframe --> Ungroup All.</p>
            <img src="img/Screenshot_16.png" alt="">

            <p>Добавим перемещение бандита в пространстве. Ключевая кость (Lower Torso) уже включена в анимацию ходьбы, поэтому мы не можем использовать её для перемещения персонажа в а пространство. Чтобы это исправить, добавим дополнительный трек анимации для персонажа - CFrame.</p>
            <p>CFrame - это система хранения трансформаций любого объекта в Roblox Studio, хранящая в себе одновременно его положение, ориентацию и размеры.</p>
            <p class="story">Нажмите на три точки рядом с Cowboy и выберите CFrame, после чего нажмите OK:</p>
            <img src="img/Screenshot_17.png" alt="">
            <p class="story">При работе с анимацией CFrame мы не можем использовать встроенные манипуляторы плагина, так как CFrame невозможно выбрать кликом по нему - это нематериальный объект. Перейдите в первый кадр и выберите трек CFrame. Нажмите на кнопку G, чтобы активировать трек и добавить стартовый ключ.</p>
            <img src="img/Screenshot_18.png" alt="">
            <p class="story">Перейдите в 120-й кадр и активируйте стандартный инструмент перемещения Move в Roblox Studio. С его помощью выберите персонажа и переместить его в требуемую финальную точку. В том же кадре нажмите на CFrame и добавьте текущий ключ (можно нажать на "=" на клавиатуре или же просто дважды нажать на CFrame). Также можно добавить промежуточные ключи анимации, чтобы она была более реалистичной.</p>
            <img src="img/Screenshot_19.png" alt="">
            <p>Следующее, что нужно сделать - зациклить анимацию ходьбы, чтобы она продолжалась до момента, когда бандит дойдёт до финальной точки. Для этого сперва перейдите в финальный кадр движения бандита и передвиньте слайдер на 10 кадров ранее, чтобы оставить место для перехода от анимации ходьбы в финальную позу.</p>
            <p class="story">Найдите точное время этой анимации - оно указано на панели плагина. Это время нужно запомнить.</p>
            <img src="img/Screenshot_20.png" alt="">
            <p class="story">Выделите все ключи анимации ходьбы:</p>
            <img src="img/Screenshot_21.png" alt="">
            <p class="story">Затем нажмите Frame --> Repeat, чтобы продолжить анимацию ходьбы.</p>
            <img src="img/Screenshot_22.png" alt="">
            <p class="story">В поле End Time введите то время, которое нужно было запомнить несколько шагов назад. Нажмите OK. Анимация автоматически зациклится и повторится до выбранного кадра.</p>
            <img src="img/Screenshot_23.png" alt="">
            <p class="story">Передвиньте слайдер в последний кадр анимации и выставьте персонажа в финальную позу:</p>
            <img src="img/Screenshot_24.png" alt="">
            <p>Анимация персонажа R15 готова!</p>

            <h2>Анимация неживых объектов</h2>
            <p>Анимация дверей бара</p>
            <p>Помимо анимации живых объектов, таких как персонажи, животные, монстры и другие существа, во время создания анимационных сцен необходимо анимировать также и объекты окружения, не обладающие ригом. Их анимация в большинстве случаев достаточно проста - все что нужно делать - изменять их положение и повороты при помощи трека CFrame, как мы сделали это с перемещением бандита.</p>
            <p>Добавим открытие дверей салуна в момент выхода бандита.</p>
            <p class="story">Последовательно выберите и добавьте к объектам анимации обе двери. Для этого снова используйте Item --> Add.</p>
            <img src="img/Screenshot_25.png" alt="">
            <p class="story">Перейдите в первый кадр и активируйте треки CFrame первой и второй двери нажатием на клавишу G. Переместите слайдер в момент, когда бандит подходит к дверям, но ещё их не касается (на скриншоте это кадр 12). В этом кадре необходимо добавить дополнительные кадры, чтобы двери начали двигаться, начиная именно с этого момента, а не с первого кадра.</p>
            <img src="img/Screenshot_26.png" alt="">
            <p class="story">Переместите слайдер в момент, когда бандит выходит из дверей. С помощью инструмента поворота выберите сначала одну дверь, разверните её на максимальный угол, потом разверните вторую. Перейдите в Moon Animator, выберите трек первой двери, нажмите на клавишу "=", чтобы добавить ключ, потом - второй трек и повторите действия.</p>
            <img src="img/Screenshot_27.png" alt="">
            <p class="story">Переместите слайдер дальше, в момент, когда бандит полностью выйдет из салуна, и добавьте обратное движение дверей. Двери салунов обычно открываются в обе стороны, поэтому разверните их в обратном направлении внутрь салуна и добавьте ключи.</p>
            <img src="img/Screenshot_28.png" alt="">
            <p class="story">Добавьте ещё одно движение дверей вперёд через некоторое время, чтобы создать ощущение инерции, после чего верните дверей в изначальное положение, чтобы они закрылись. Для более органичного вида анимации переместите ключи движений так, чтобы они двигались не одновременно.</p>
            <p>Также углы разворота дверей могут не совпадать - одна дверь может открываться дальше, чем другая. Это добавит реалистичности их движениям.</p>
            <img src="img/Screenshot_29.png" alt="">

            <h3>Анимация перекати-поля</h3>
            <p>Добавим последнюю анимацию - перекати-поле, которое должно пролететь между бандитами и шерифом в момент, когда они уже встретились и подготовились к перестрелке.</p>
            <p class="story">Выберите перекати-поле и добавьте его к анимируемым объектам. Передвиньте слайдер и добавьте ключ в момент, когда бандит заканчивает свое движение - этот кадр будет началом движения перекати-поля.</p>
            <img src="img/Screenshot_30.png" alt="">
            <p class="story">Переместите слайдер на некоторое время вперед и, выбрав перекати-поле стандартным инструментом перемещения, переместите его между бандитом и шерифом. Также переместите его наверх, чтобы оно подлетело в воздухе и разверните при помощи инструмента поворота. Добавьте ключ в трек с помощью кнопки «=».</p>
            <img src="img/Screenshot_31.png" alt="">
            <p class="story">Самостоятельно завершите движение перекати-поля так, чтобы оно продолжало крутиться и вылетело из кадра.</p>
            <img src="img/Screenshot_32.png" alt="">
            <p class="story">Не забудьте сохранить анимацию, нажав File --> Save:</p>
            <img src="img/Screenshot_33.png" alt="">
            <p class="story">На крыше салуна можно заметить третьего персонажа - зомби-ковбоя. Вам необходимо самостоятельно закончить анимацию данной сцены с добавлением зомби-ковбоя и придумать свою концовку.</p>
            <img src="img/Screenshot_34.png" alt="">



            <hr>
            <h1>Домашкаа 😁</h1>
            <p>Ура! Это последнее занятие модуля, посвященного анимации. Он был насыщенным практикой. Для повторения изученного нужно ещё раз просмотреть конспекты по анимации и доработать те анимации, которые создавались в текущем модуле.</p>

        </section>
    </main>
</body>

</html>